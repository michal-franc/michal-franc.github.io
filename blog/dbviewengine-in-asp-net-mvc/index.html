<!DOCTYPE html>
<html>
    <head>

    
    <meta name="robots" content="all">
    

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="author" content="Michal Franc">
    <meta name="keywords" content="michal franc,leader,programmer,coach,speaker">
	<title>DBViewEngine in Asp.Net Mvc | Michal Franc</title>
	<meta name="description" content="I have been working on a simple side project. It is a idea of View Engine that uses Database in order to get Views. It is maybe not so useful scenario, but a...">

    <link href="https://fonts.googleapis.com/css?family=Inconsolata:700|Raleway" rel="stylesheet">
    <link rel="profile" href="http://gmpg.org/xfn/11">
    <link rel="author" href="https://plus.google.com/104238159697387202725?rel=author">

	<link rel="canonical" href="http://www.mfranc.com/blog/dbviewengine-in-asp-net-mvc/">

    <link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" type="text/css" href="/css/sm.css" media="screen" />
    <link rel="alternate" type="application/rss+xml" title="Michal Franc | Feed" href="http://feeds.feedburner.com/PassionateProgram">

    <meta property="og:locale" content="en_US">
    <meta property="og:title" content="DBViewEngine in Asp.Net Mvc | Michal Franc">
    <meta property="og:description" content="I have been working on a simple side project. It is a idea of View Engine that uses Database in order to get Views. It is maybe not so useful scenario, but a...">
	<meta property="og:url" content="http://www.mfranc.com/blog/dbviewengine-in-asp-net-mvc/">
    <meta property="og:site_name" content="Michal Franc Blog">
    <meta property="og:type" content="website">
	<meta property="og:image" content="http://michal-franc.github.io/images/default_share_image.jpg">

	<meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="DBViewEngine in Asp.Net Mvc | Michal Franc">
    <meta name="twitter:site" content="@francmichal">
    <meta name="twitter:creator" content="@francmichal">
    <meta name="twitter:description" content="I have been working on a simple side project. It is a idea of View Engine that uses Database in order to get Views. It is maybe not so useful scenario, but a...">
	<meta name="twitter:image" content="http://michal-franc.github.io/images/default_share_image.jpg">

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-15894596-3', 'auto');
  ga('send', 'pageview');
</script>

    <script src="//static.getclicky.com/js" type="text/javascript"></script>
<script type="text/javascript">try{ clicky.init(100563098); }catch(e){}</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100563098ns.gif" /></p></noscript>

    <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

    <!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1817837425153843'); // Insert your pixel ID here.
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=1817837425153843&ev=PageView&noscript=1"
/></noscript>
<!-- DO NOT MODIFY -->
<!-- End Facebook Pixel Code -->


  </head>


  <body>
    <main>
      <header class="site-header">
  <div class="container">
	  <h1><a href="/">Michal<span>Franc</span></a></h1>

    <button type="button" class="sliding-panel-button">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav class="navbar sliding-panel-content">
      <ul>
        
          <li><a href="/blog" title="Posts">Posts</a></li>
        
          <li><a href="/notes" title="Notes">Notes</a></li>
        
          <li><a href="/articles" title="Articles">Articles</a></li>
        
          <li><a href="/about" title="About">About</a></li>
        
        <li><a href="/feed.xml" target="_blank"><i class="icon icon-feed"></i></a></li>
      </ul>
    </nav>
  </div>
</header>

<div class="sliding-panel-fade-screen"></div>


      <div class="container">
        <article role="article" class="post">

  <div class="card">
    <header class="post-header">
      <h1 class="post-title">DBViewEngine in Asp.Net Mvc</h1>
      <p class="post-meta">Jan 22, 2012 • Michal Franc - 
		<small>
			<i class="icon icon-comments"></i><span class="disqus-comment-count" data-disqus-url="http://mfranc.com/blog/dbviewengine-in-asp-net-mvc/"></span>
		</small>
		<small>
			
		</small>
	  </p>
    </header>

	<center>
		
	</center>

    <div class="post-content">
      
      <p align="justify">I have been working on a simple side project. It is a idea of View Engine that uses Database in order to get Views. It is maybe not so useful scenario, but a good one to learn more about inner workings of Asp.Net MVC and also <strong>NoSql</strong> databases. There is a  big hype around <strong>NoSql</strong>. I will use <strong>RavenDB</strong> because this implementation is very close to .<strong>Net</strong> community.</p>
<p align="justify">First we will explore <strong>ViewEngines</strong> and <strong>HTML</strong> response generation,then we will move into the custom View Engine World. If you are interested dear reader then “Stay while and listen …” <img class="wlEmoticon wlEmoticon-openmouthedsmile" style="border-style: none;" src="http://www.mfranc.com/wp-content/uploads/2012/01/wlEmoticon-openmouthedsmile.png" alt="Open-mouthed smile" /></p>

<h2>ViewEngine</h2>
<p><strong>ViewEngine</strong> is responsible for <strong>HTML</strong> generation that is sent back to the client. Programmers with <strong>Asp.Net</strong> background should be familiar with <strong>WebForms</strong> Engine that uses <strong>&lt;% %&gt; syntax</strong> and <strong>WebControls</strong> . There are other <strong>ViewEngines</strong> like <strong>RazorEngine</strong>, which is quite popular right now, but we won’t discuss this here as it is not important for this post.</p>

<p> </p>

<p><a href="http://www.mfranc.com/wp-content/uploads/2012/01/image.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; margin-right: auto; padding-top: 0px; border-width: 0px;" title="image" src="http://www.mfranc.com/wp-content/uploads/2012/01/image_thumb.png" alt="image" width="574" height="240" border="0" /></a></p>
<h3 align="center"><span style="font-weight: bold;">Pic 1. Simplified Request/Response cycle</span></h3>
<p> </p>

<p>Every  <strong>ViewEngine</strong> implements <strong>IViewEngine</strong> interface</p>

<figure class="highlight">
  <pre><code class="language-csharp" data-lang="csharp">  <span class="k">public</span> <span class="k">interface</span> <span class="n">IViewEngine</span>
  <span class="p">{</span>
    <span class="n">ViewEngineResult</span> <span class="nf">FindPartialView</span><span class="p">(</span><span class="n">ControllerContext</span> <span class="n">controllerContext</span><span class="p">,</span> <span class="kt">string</span> <span class="n">partialViewName</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">useCache</span><span class="p">);</span>
    <span class="n">ViewEngineResult</span> <span class="nf">FindView</span><span class="p">(</span><span class="n">ControllerContext</span> <span class="n">controllerContext</span><span class="p">,</span> <span class="kt">string</span> <span class="n">viewName</span><span class="p">,</span> <span class="kt">string</span> <span class="n">masterName</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">useCache</span><span class="p">);</span>
    <span class="k">void</span> <span class="nf">ReleaseView</span><span class="p">(</span><span class="n">ControllerContext</span> <span class="n">controllerContext</span><span class="p">,</span> <span class="n">IView</span> <span class="n">view</span><span class="p">);</span>
  <span class="p">}</span></code></pre>
</figure>

<p>This interface contains method responsible for <strong>ViewEngineResult</strong> generation,</p>

<p><strong>ViewEngineResult </strong>class is a simple data container<strong> </strong>holding information about <strong>ViewEngine</strong> we are using and instance of <strong>View</strong> class.</p>

<p><strong>View </strong>class is an implementation <strong>IView</strong> interface which is very simple and contains only one method.</p>

<figure class="highlight">
  <pre><code class="language-csharp" data-lang="csharp">  <span class="k">public</span> <span class="k">interface</span> <span class="n">IView</span>
  <span class="p">{</span>
    <span class="k">void</span> <span class="nf">Render</span><span class="p">(</span><span class="n">ViewContext</span> <span class="n">viewContext</span><span class="p">,</span> <span class="n">TextWriter</span> <span class="n">writer</span><span class="p">);</span>
  <span class="p">}</span></code></pre>
</figure>

<p>This is a very simple interface  that contains <strong>Render</strong> method which has access to <strong>TextWriter</strong> that should be used to write data that will be displayed in a response sent back to client. This is almost like <strong>Render </strong>method inside <strong>WebControls.</strong></p>

<p><strong>Ok lets go back to </strong>ViewEngine.<strong> </strong>Unfortunately, or to be honest that is a very good decision,<strong> WebFormViewEngine </strong>is not directly implementing <strong>IViewEngine.</strong></p>

<p>There is another layer in form of <strong>VirtualPathProviderViewEngine. </strong>This class is implementing <strong>IViewEngine </strong>and is responsible for adding “physical path” support, if you want to use files stored on your server’s file system you should create custom <strong>ViewEngine</strong> that extends this class.</p>
<h4>Summarising:</h4>
<p><a href="http://www.mfranc.com/wp-content/uploads/2012/01/image1.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; margin-right: auto; padding-top: 0px; border-width: 0px;" title="image" src="http://www.mfranc.com/wp-content/uploads/2012/01/image_thumb1.png" alt="image" width="466" height="252" border="0" /></a></p>
<h3 align="center"><span style="font-weight: bold;">Pic 2. Simplified WebFormsViewEngine Request/Response</span></h3>
<h2></h2>
<h2>Simple Custom ViewEngine</h2>
<p>Ok so we <strong>“hopefully” </strong>know how the whole <strong>ViewEngine</strong> stuff works, so lets do our own one. <strong>Yey \o/</strong></p>

<p>Our first <strong>ViewEngine</strong> will be very simple and we will call it <strong>HelloWorldViewEngine</strong>.</p>

<figure class="highlight">
  <pre><code class="language-csharp" data-lang="csharp">    <span class="k">public</span> <span class="k">class</span> <span class="nc">HelloWorldViewEngine</span> <span class="p">:</span> <span class="n">IViewEngine</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">ViewEngineResult</span> <span class="nf">FindPartialView</span><span class="p">(</span><span class="n">ControllerContext</span> <span class="n">controllerContext</span><span class="p">,</span>
             <span class="kt">string</span> <span class="n">partialViewName</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">useCache</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">ViewEngineResult</span><span class="p">(</span><span class="k">new</span> <span class="nf">HelloWorldView</span><span class="p">(),</span> <span class="k">this</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">public</span> <span class="n">ViewEngineResult</span> <span class="nf">FindView</span><span class="p">(</span><span class="n">ControllerContext</span> <span class="n">controllerContext</span><span class="p">,</span>
              <span class="kt">string</span> <span class="n">viewName</span><span class="p">,</span> <span class="kt">string</span> <span class="n">masterName</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">useCache</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">ViewEngineResult</span><span class="p">(</span><span class="k">new</span> <span class="nf">HelloWorldView</span><span class="p">(),</span> <span class="k">this</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">ReleaseView</span><span class="p">(</span><span class="n">ControllerContext</span> <span class="n">controllerContext</span><span class="p">,</span> <span class="n">IView</span> <span class="n">view</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">IDisposable</span> <span class="n">disposable</span> <span class="p">=</span> <span class="n">view</span> <span class="k">as</span> <span class="n">IDisposable</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">disposable</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="n">disposable</span><span class="p">.</span><span class="nf">Dispose</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span></code></pre>
</figure>

<p><strong>ReleaseView </strong>method is a copy/paste code from Microsoft Code. As you can see this method should be used to dispose <strong>View</strong> instance.</p>

<p><strong>FindPartialView</strong> and <strong>FindView</strong> methods are only returning <strong>DummyViewEngineResult</strong>. Unfortunately we had to create our own implementation of <strong>IView </strong>interface called <strong>HelloWorldView</strong> because <strong>WebFormView </strong>uses physical files and I couldn’t get it  to render something.</p>

<figure class="highlight">
  <pre><code class="language-csharp" data-lang="csharp">    <span class="k">public</span> <span class="k">class</span> <span class="nc">HelloWorldView</span> <span class="p">:</span> <span class="n">IView</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">Render</span><span class="p">(</span><span class="n">ViewContext</span> <span class="n">viewContext</span><span class="p">,</span> <span class="n">TextWriter</span> <span class="n">writer</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">writer</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Hello World"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span></code></pre>
</figure>

<p>This View is very simple and prints out only <strong>“Hello World”</strong> message. Cool<img class="wlEmoticon wlEmoticon-smilewithtongueout" style="border-style: none;" src="http://www.mfranc.com/wp-content/uploads/2012/01/wlEmoticon-smilewithtongueout.png" alt="Smile with tongue out" /></p>

<p>In order to use this <strong>“awesome” ViewEngine</strong> we have to register it inside<strong> Global.asax</strong> file.</p>

<figure class="highlight">
  <pre><code class="language-csharp" data-lang="csharp"><span class="k">protected</span> <span class="k">void</span> <span class="nf">Application_Start</span><span class="p">()</span>
<span class="p">{</span>
      <span class="n">AreaRegistration</span><span class="p">.</span><span class="nf">RegisterAllAreas</span><span class="p">();</span>
      <span class="n">ViewEngines</span><span class="p">.</span><span class="n">Engines</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
      <span class="n">ViewEngines</span><span class="p">.</span><span class="n">Engines</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">HelloWorldViewEngine</span><span class="p">());</span>
      <span class="nf">RegisterRoutes</span><span class="p">(</span><span class="n">RouteTable</span><span class="p">.</span><span class="n">Routes</span><span class="p">);</span>
<span class="p">}</span></code></pre>
</figure>

<p>First we are clearing all the Engines that are currently used and then we are adding our own custom one.</p>

<p>Hopefully on the start you will see beautiful <strong>“Hello World”</strong> message <img class="wlEmoticon wlEmoticon-smile" style="border-style: none;" src="http://www.mfranc.com/wp-content/uploads/2012/01/wlEmoticon-smile.png" alt="Smile" />.</p>

<p> </p>
<h2>DBViewEngine</h2>
<p>I  will make Database based on RavenDB just 4fun and in order to use it for the first time.</p>
<h4>RavenDB ?</h4>
<blockquote>
  <p><a href="http://ravendb.net/documentation/docs-what-is-raven">Raven is a .NET Linq enabled Document Database, focused on providing high performance, schema-less, flexible and scalable NoSQL data store for the .NET and Windows platforms.</a>&lt;/blockquote&gt;
In short <strong>NoSql</strong> :</p>
  <h5>Pros</h5>
  <ul>
	<li>Good when your app is used for many Reads</li>
	<li>Scalability benefits</li>
	<li>No strict schema&nbsp;</li>
	<li>Less problems with data mappings</li>
</ul>
  <h5>Cons</h5>
  <ul>
	<li>Bad when your app is used for many Writes</li>
</ul>
  <p>I won’t get into details about <strong>RavenDB </strong>so lets start implementing our first version of <strong>DBViewEngine.</strong></p>
  <h4>RavenDB DAL</h4>
  <p>In order to retrieve data we will make a simple <strong>DAL.</strong></p>
  <h3></h3>
  <h5>Page Entity</h5>
  <p>For this simple scenario we are persisting objects only with <strong>ViewName</strong> and <strong>HTML </strong>data.</p>

  <figure class="highlight">
    <pre><code class="language-csharp" data-lang="csharp">    <span class="k">public</span> <span class="k">class</span> <span class="nc">Page</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Html</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">ViewName</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span></code></pre>
  </figure>

  <p>Html is an actual data that will be rendered by browser.</p>
  <h5>GetPageByViewName</h5>

  <figure class="highlight">
    <pre><code class="language-csharp" data-lang="csharp">       <span class="k">public</span> <span class="n">Page</span> <span class="nf">GetPageByViewName</span><span class="p">(</span><span class="kt">string</span> <span class="n">viewName</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">session</span> <span class="p">=</span> <span class="n">_store</span><span class="p">.</span><span class="nf">OpenSession</span><span class="p">())</span>
            <span class="p">{</span>
                <span class="k">return</span> <span class="n">session</span><span class="p">.</span><span class="n">Query</span><span class="p">&lt;</span><span class="n">Page</span><span class="p">&gt;().</span><span class="nf">Where</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">ViewName</span> <span class="p">==</span> <span class="n">viewName</span><span class="p">).</span><span class="nf">FirstOrDefault</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">}</span></code></pre>
  </figure>

  <p>A simple function to get page by viewname this one will be used by the engine to get the data about the page.</p>

  <p> </p>

  <p><a href="http://www.mfranc.com/wp-content/uploads/2012/01/image2.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; margin-right: auto; padding-top: 0px; border-width: 0px;" title="image" src="http://www.mfranc.com/wp-content/uploads/2012/01/image_thumb2.png" alt="image" width="244" height="126" border="0" /></a></p>

  <p>In DB we gonna store two pages <strong>About </strong>and <strong>Home. </strong>They will only display simple message like “Welcome to the about page”.</p>
  <h5>ViewEngine</h5>
  <p>So now the best part. How to link <strong>ViewEngine</strong> with <strong>DB.</strong></p>

  <p>IViewEngine interface has a definition of <strong>FindView</strong> method. This method has all the data we want right now including <strong>ViewName</strong> parameter. So let’s implement this method.</p>

  <figure class="highlight">
    <pre><code class="language-csharp" data-lang="csharp">        <span class="k">public</span> <span class="n">ViewEngineResult</span> <span class="nf">FindView</span><span class="p">(</span><span class="n">ControllerContext</span> <span class="n">controllerContext</span><span class="p">,</span>
                <span class="kt">string</span> <span class="n">viewName</span><span class="p">,</span> <span class="kt">string</span> <span class="n">masterName</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">useCache</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">page</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PageDal</span><span class="p">().</span><span class="nf">GetPageByViewName</span><span class="p">(</span><span class="n">viewName</span><span class="p">);</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">ViewEngineResult</span><span class="p">(</span><span class="k">new</span> <span class="nf">DBView</span><span class="p">(</span><span class="n">page</span><span class="p">),</span> <span class="k">this</span><span class="p">);</span>
        <span class="p">}</span></code></pre>
  </figure>

  <p>Little test:</p>

  <p><strong>Url</strong> - <strong>/Home/About </strong></p>

  <p>And yuppi we have a message indicating that this is a correct site.</p>

  <p><a href="https://github.com/Michal Franc ik/DBViewEngine">Source Code</a></p>
  <h2>Conclusion</h2>
  <p>Asp.Net MVC architecture is quite easy to modyfi and extend. In this post we analysed how we can implement our different <strong>ViewEngine</strong> which is using <strong>RavenDB</strong> as a source<strong> </strong>of the files,</p>
</blockquote>

      <span id="post-end"></span>
    </div>

    <div id="mc_embed_signup">
<form action="https://mfranc.us13.list-manage.com/subscribe/post?u=8a5865e28c59044d419ecbe95&amp;id=d545f31150" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
      <label for="mce-EMAIL">If you are interested in Cloud Native, Scalability, System Design and more meaty side of Engineering at Scale. Then subscribe to my mailing list.</label>
      <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_8a5865e28c59044d419ecbe95_d545f31150" tabindex="-1" value=""></div>
        <div class="clear">
          <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
        </div>
    </div>
</form>
</div>



    
<hr>

<aside id="comments" class="disqus">
  <div class="container">
    <h3><i class="icon icon-comments-o"></i> Comments</h3>
    <div id="disqus_thread"></div>
    <script>
      (function() {
        var d = document,
        s = d.createElement('script');
        s.src = '//thesilenceofthelams.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</aside>



  </div>

</article>

      </div>


      <footer class="site-footer">
  <div class="container">
    <ul class="social">
  <li><a href="http://github.com/michal-franc" target="_blank"><i class="icon icon-github"></i></a></li>
  <li><a href="http://twitter.com/francmichal" target="_blank"><i class="icon icon-twitter"></i></a></li>
  <li><a href="http://facebook.com/michalfrancblog" target="_blank"><i class="icon icon-facebook"></i></a></li>
  <li><a href="https://uk.linkedin.com/in/michalfranc1" target="_blank"><i class="icon icon-linkedin"></i></a></li>
</ul>

    <p class="txt-medium-gray">
      <small>&copy;2018 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small>
    </p>
  </div>
</footer>


      <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
	  <script type="text/javascript" src="/js/jquery.slick-modals.js"/></script>

	  <!-- <script id="ulp-remote" src="http://tools.mfranc.com/wp-content/plugins/layered-popups/js/remote.min.js?ver=5.89" data-handler="http://tools.mfranc.com/wp-admin/admin-ajax.php"></script>
	  <script>

		    (function ($) {
			"use strict";
			var objectPositionTop = $('#post-end').offset().top - window.innerHeight;

				ulp_add_event("onexit", {
					popup:		"4AXWiVSrZD71uqiP",
					mode:		"once-period",
					period:		30
				});

				ulp_add_event("onidle", {
					popup:		"85oltSbndJGZQzaW",
					mode:		"once-period",
					period:         30
				});

				ulp_add_event("onscroll", {
					popup:		"INyhHrwTzxjvcqEb",
					mode:		"once-period",
					period:         30,
					offset:		objectPositionTop / 2
				});

		    }(jQuery));

    </script> -->

		<script id="dsq-count-scr" src="//thesilenceofthelams.disqus.com/count.js" async></script>

		<div id="fb-root"></div>
		<script>(function(d, s, id) {
		  var js, fjs = d.getElementsByTagName(s)[0];
		  if (d.getElementById(id)) return;
		  js = d.createElement(s); js.id = id;
		  js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.7&appId=125980610784627";
		  fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));</script>
    </main>
  </body>
</html>
