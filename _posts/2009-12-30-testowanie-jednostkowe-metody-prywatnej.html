---
layout: post
title: Testowanie jednostkowe metody prywatnej
date: 2009-12-30 20:04:07.000000000 +00:00
categories: []
tags:
- NUnit
- unit test
status: publish
type: post
published: true
meta:
  dsq_thread_id: '431490729'
author:
  login: LaM
  email: lam.michal.franc@gmail.com
  display_name: Michal Franc
  first_name: Michal
  last_name: Franc
excerpt: !ruby/object:Hpricot::Doc
  options: {}
---
<p>Natknąłem się ostatnio na pewien problem.</p>
<p>Jak przeprowadzić test funkcji zadeklarowanej jako <strong>private</strong> wewnątrz pewnej klasy.</p>
<p>Rozwiązania:</p>
<p>1. Najbardziej oczywiste zmienić dostęp do metody na publiczny.</p>
<p>2. Zadeklarować metodę jako <strong>protected</strong> i dziedziczyć w innej klasie która obuduje metodę prywatną metodą publiczną [wrapper].</p>
<p>3.Zadeklarować funkcje jako <strong>internal</strong> i użyć Attrybutu <a href="http://devlicio.us/blogs/derik_whittaker/archive/2007/04/09/internalsvisibleto-testing-internal-methods-in-net-2-0.aspx">InternalsVisibleTo</a>. Oczywiście jeżeli kod testów trzymamy w tym samym projekcie co nasza metoda to <strong>internal</strong> już zapewnia nam dostęp do niej. Dobrą praktyką jednak jest trzymanie kodu testującego w oddzielnym Assembly.</p>
<p>Wszystkie te sposoby psują naszą koncepcje która z jakiegoś ważnego powodu zakładała że nasza  funkcja powinna być prywatna.</p>
<p>Pozostają jeszcze :</p>
<p>4.Użyć mechanizmu refleksji.</p>
<p>5. Zastanowić się czy aby na pewno powinniśmy testować metodę prywatną .Z zalożenia testy jednostkowe powinny testować interfejs naszej klasy.Testując metody prywatne narażamy sie na testowanie implementacji co przy zmianie kodu może wymusić zmianę testów.</p>
<p><a href="http://www.codeproject.com/KB/cs/testnonpublicmembers.aspx">Więcej Info</a></p>
