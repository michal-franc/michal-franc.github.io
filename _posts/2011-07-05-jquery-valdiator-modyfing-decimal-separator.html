---
layout: post
title: JQuery Validator– Modyfing decimal separator
date: 2011-07-05 20:28:55.000000000 +01:00
categories:
- Javascript
tags:
- jquery
status: publish
type: post
published: true
meta:
  dsq_thread_id: '350395782'
  _edit_last: '1'
  _yoast_wpseo_linkdex: '0'
  _yoast_wpseo_focuskw: ''
  _yoast_wpseo_title: ''
  _yoast_wpseo_metadesc: ''
  _yoast_wpseo_meta-robots-noindex: '0'
  _yoast_wpseo_meta-robots-nofollow: '0'
  _yoast_wpseo_meta-robots-adv: none
  _yoast_wpseo_sitemap-include: "-"
  _yoast_wpseo_sitemap-prio: "-"
  _yoast_wpseo_canonical: ''
  _yoast_wpseo_redirect: ''
  _yoast_wpseo_opengraph-description: ''
  _yoast_wpseo_google-plus-description: ''
author:
  login: LaM
  email: lam.michal.franc@gmail.com
  display_name: Michal Franc
  first_name: Michal
  last_name: Franc
excerpt: !ruby/object:Hpricot::Doc
  options: {}
---
<h2>Problem</h2>
<p>By default <strong>jQuery</strong> validator  uses only validation by <strong>“dot”</strong> separator.</p>
<h3>default code:</h3>
<pre class="lang:default decode:true">jQuery.extend(jQuery.validator.methods, { 
       number: function(value, element) { 
       return this.optional(element) 
        || /^-?(?:\d+|\d{1,3}(?:\.\d{3})+)(?:,\d+)?$/.test(value) 
       } 
});</pre>
<p>I needed plugin that would allow <strong>“comma”</strong> separator.</p>
<h2>Solutions</h2>
<h3>Simple or operator :</h3>
<pre class="lang:default decode:true">jQuery.extend(jQuery.validator.methods, { 
         number: function(value, element) { 
            return this.optional(element) 
            || /^-?(?:\d+|\d{1,3}(?:\.\d{3})+)(?:,\d+)?$/.test(value) 
            ||  /^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(value); 
          }
});</pre>
<p>Combining two regexps. Not optimal but if you don’t know regexp its “good enough”.</p>
<h3>brute force version :</h3>
<pre class="lang:default decode:true">jQuery.extend(jQuery.validator.methods, { 
         number: function(value, element) { 
            var val =  value.replace(',','.');
            return this.optional(element) 
             || /^-?(?:\d+|\d{1,3}(?:\.\d{3})+)(?:,\d+)?$/.test(val);
          }
});</pre>
<p>Simple but effective version with string replace.</p>
<h3>One regexp :</h3>
<pre class="lang:default decode:true crayon-selected">jQuery.extend(jQuery.validator.methods, { 
         number: function(value, element) { 
            return this.optional(element) 
             || /^-?(?:\d+|\d{1,3}(?:\.\d{3})+)(?:[,.]\d+)?$/.test(value);
          }
});</pre>
<p>Best Solution ;]</p>
